name: "sample React CI pipeline/workflow"

on:
    push:
        branches:
            - main
            - master

jobs:
    build-and-test:
        runs-on: ubuntu-latest

        steps:
           - name: "Setup Node JS"
             uses: "actions/setup-node@v4"
             with:
                node-version: "21"

           - name: "Check node version"
             run: "node --version"

           - name: "Clone the repo"
             uses: "actions/checkout@v2"
           - name: "Install Dependencies"
             run: "npm install"
           - name: "List directories"
             run: "ls"
           - name: "run tests"
             run: "npm test"   
           - name: "run build"
             run: "npm run build"  
           - name: "Upload prod-ready build files"
             uses: actions/upload-artifacts@v4
             with: 
              name: build
              path: dist